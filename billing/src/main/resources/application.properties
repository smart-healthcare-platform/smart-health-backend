spring.application.name=billing-service
server.port=8090

# Database Configuration
spring.datasource.url=jdbc:mysql://localhost:3306/smart_health_billing?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=1111
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# Eureka Client
eureka.client.enabled=false
# eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/

# Appointment Service Client (Feign) - Để xác nhận thanh toán phí khám
# Gọi trực tiếp appointment service thay vì qua gateway
# Support ENV variable với fallback về localhost cho development
appointment.service.url=${APPOINTMENT_SERVICE_URL:http://localhost:8084}
internal.api.secret-key=dev-internal-secret-key-12345
# medicine.service.url=http://localhost:8089

# Momo Payment Gateway Configuration
momo.partner-code=MOMOBKUN20180529
momo.access-key=klm05TvNBzhg7h7j
momo.secret-key=at67qH6mk8w5Y1nAyMoYKMWACiEi2bsa
momo.api-endpoint=https://test-payment.momo.vn/v2/gateway/api/create
momo.return-url=https://soon-highway-discount-aka.trycloudflare.com/api/v1/billings/return
momo.ipn-url=https://soon-highway-discount-aka.trycloudflare.com/api/v1/billings/ipn/momo

# VNPay Payment Gateway Configuration
vnpay.version=2.1.0
vnpay.command=pay
vnpay.tmn-code=LKDRSYC0
vnpay.amount-factor=100
vnpay.curr-code=VND
vnpay.bank-code=
vnpay.locale=vn
vnpay.return-url=https://soon-highway-discount-aka.trycloudflare.com/api/v1/billings/return
vnpay.ipn-url=https://soon-highway-discount-aka.trycloudflare.com/api/v1/billings/ipn/vnpay
vnpay.secret-key=VLCQ2YMCLUOIQCNOR2YB57J13I9NSWBQ
vnpay.pay-url=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html

# Enable debug logs for payment gateway services
logging.level.fit.iuh.billing.services.impl=DEBUG

# Actuator Configuration - Enable health endpoint
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=always
management.health.defaults.enabled=true

# Frontend URL for payment return redirect
frontend.url=https://smart-health-website.vercel.app

# Gateway Secret for internal service communication
gateway.secret=your-secure-gateway-secret-change-in-production
